<!DOCTYPE html>
<html lang="en">
    {{ partial "head.html" }}

    <body>
        <div class="container-fluid-lg container-xl">
            <div class="row">
                <div class="d-none d-md-block col-md-3 col-xl-2 sticky-sidebar mt-5" id="sidebar">
                    <div class="sticky-sidebar">
                        {{ partial "sidebar.html" . }}
                    </div>
                </div>
                <div class="col pt-5" id="content">
                    <div class="d-block d-md-none">
                        {{ partial "mobile-nav.html" . }}
                    </div>
                    <!-- Lightbox container -->
                    <div id="lightbox"></div>
                    {{ partial "search.html" . }}
                    {{ block "main" . }}{{ end }}
                </div>
                <div class="col-3 d-none d-lg-block sticky-sidebar" id="meta">
                    <div class="sticky-sidebar">
                        <p class="font-monospace">
                            {{ partial "sidemeta.html" . }}
                        </p>
                    </div>
                </div>
            </div>
        </div>
        {{ range .Site.Params.plugins_js }}
            <script src="{{ . }}"></script>
        {{ end }}
        <script src="{{ "search.js" | relURL }}"></script>
        <script src="{{ "archive.js" | relURL }}"></script>
        <script src="{{ "hamburger.js" | relURL }}"></script>
        <!-- <script type="module">
            import PhotoSwipeLightbox from 'https://unpkg.com/photoswipe/dist/photoswipe-lightbox.esm.js';

            const lightbox = new PhotoSwipeLightbox({
            gallery: '#my-gallery',
            children: 'a',
            pswpModule: () => import('https://unpkg.com/photoswipe'),
            });

            lightbox.init();
        </script> -->
        <script>
            // Function to open the lightbox
            function openLightbox(src) {
              var lightbox = document.getElementById('lightbox');
              lightbox.innerHTML = '<img src="' + src + '">';
              lightbox.style.display = 'flex';
            }
            
            // Function to close the lightbox
            function closeLightbox() {
              var lightbox = document.getElementById('lightbox');
              lightbox.innerHTML = '';
              lightbox.style.display = 'none';
            }
            
            // Add click event listeners to all images
            var images = document.querySelectorAll('.single-post-content img');
            images.forEach(function(image) {
              image.addEventListener('click', function() {
                openLightbox(this.src);
              });
            });
            
            // Close lightbox when clicking outside the image
            var lightbox = document.getElementById('lightbox');
            lightbox.addEventListener('click', function() {
              closeLightbox();
            });
            </script>
        <script src="https://kit.fontawesome.com/f9bfe062c6.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    </body>
</html>